OptionData <- fread("spOptions_Bloomberg.csv")
library(data.table)
library(dplyr)
Sys.setenv(TZ = "US/Eastern")
setwd("C:/Users/Sizhu/Documents/03_2018Summer/Option/ProjectOption")
OptionData <- fread("spOptions_Bloomberg.csv")
head(OptionData)
OptionData <- OptionData %>% select(price_date, mat_date, strike_price, bid)
head(OptionData)
OptionData <- OptionData %>% select(price_date, mat_date, strike_price, bid)
OptionData$price_date <- as.character(OptionData$price_date)
OptionData$mat_date <- as.character(OptionData$mat_date)
OptionData$price_date <- as.Date(OptionData$price_date, format = "%m/%d/%Y")
head(OptionData)
OptionData$mat_date <- as.Date(OptionData$mat_date, format = "%m/%d/%Y")
head(OptionData)
SeparateDate <- function(data) {
data$st_y <- as.numeric(substr(data$price_date, 1, 4))
data$st_m <- as.numeric(substr(data$price_date, 6, 7))
data$st_d <- as.numeric(substr(data$price_date, 9, 10))
data$ex_y <- as.numeric(substr(data$mat_date, 1, 4))
data$ex_m <- as.numeric(substr(data$mat_date, 6, 7))
data$ex_d <- as.numeric(substr(data$mat_date, 9, 10))
data <- data %>% select(-price_date, -mat_date)
}
OptionData <- SeparateDate(OptionData)
head(OptionData)
library(data.table)
library(dplyr)
Sys.setenv(TZ = "US/Eastern")
setwd("C:/Users/Sizhu/Documents/03_2018Summer/Option/ProjectOption")
OptionData <- fread("spOptions_Bloomberg.csv")
head(OptionData)
# Date Format
OptionData <- OptionData %>% select(price_date, mat_date, strike_price, bid)
OptionData$price_date <- as.character(OptionData$price_date)
OptionData$mat_date <- as.character(OptionData$mat_date)
OptionData$price_date <- as.Date(OptionData$price_date, format = "%m/%d/%Y")
OptionData$mat_date <- as.Date(OptionData$mat_date, format = "%m/%d/%Y")
OptionData$date_len <- OptionData$price_date - OptionData$mat_date
# Seperate Date
SeparateDate <- function(data) {
data$st_y <- as.numeric(substr(data$price_date, 1, 4))
data$st_m <- as.numeric(substr(data$price_date, 6, 7))
data$st_d <- as.numeric(substr(data$price_date, 9, 10))
data$ex_y <- as.numeric(substr(data$mat_date, 1, 4))
data$ex_m <- as.numeric(substr(data$mat_date, 6, 7))
data$ex_d <- as.numeric(substr(data$mat_date, 9, 10))
data <- data %>% select(-price_date, -mat_date)
}
OptionData <- SeparateDate(OptionData)
head(OptionData)
library(data.table)
library(dplyr)
Sys.setenv(TZ = "US/Eastern")
setwd("C:/Users/Sizhu/Documents/03_2018Summer/Option/ProjectOption")
OptionData <- fread("spOptions_Bloomberg.csv")
head(OptionData)
# Date Format
OptionData <- OptionData %>% select(price_date, mat_date, strike_price, bid)
OptionData$price_date <- as.character(OptionData$price_date)
OptionData$mat_date <- as.character(OptionData$mat_date)
OptionData$price_date <- as.Date(OptionData$price_date, format = "%m/%d/%Y")
OptionData$mat_date <- as.Date(OptionData$mat_date, format = "%m/%d/%Y")
OptionData$date_len <- OptionData$mat_date - OptionData$price_date
# Seperate Date
SeparateDate <- function(data) {
data$st_y <- as.numeric(substr(data$price_date, 1, 4))
data$st_m <- as.numeric(substr(data$price_date, 6, 7))
data$st_d <- as.numeric(substr(data$price_date, 9, 10))
data$ex_y <- as.numeric(substr(data$mat_date, 1, 4))
data$ex_m <- as.numeric(substr(data$mat_date, 6, 7))
data$ex_d <- as.numeric(substr(data$mat_date, 9, 10))
data <- data %>% select(-price_date, -mat_date)
}
OptionData <- SeparateDate(OptionData)
head(OptionData)
write.csv(OptionData,"spOptions_Bloomberg_RProcessed.csv", row.names = F)
library(data.table)
library(dplyr)
Sys.setenv(TZ = "US/Eastern")
setwd("C:/Users/Sizhu/Documents/03_2018Summer/Option/ProjectOption")
OptionData <- fread("spOptions_Bloomberg.csv")
head(OptionData)
# Date Format
OptionData <- OptionData %>% select(price_date, mat_date, strike_price, bid)
OptionData$price_date <- as.character(OptionData$price_date)
OptionData$mat_date <- as.character(OptionData$mat_date)
OptionData$price_date <- as.Date(OptionData$price_date, format = "%m/%d/%Y")
OptionData$mat_date <- as.Date(OptionData$mat_date, format = "%m/%d/%Y")
OptionData <- OptionData %>% arrange(price_date, strike_price)
OptionData$date_len <- OptionData$mat_date - OptionData$price_date
OptionData$date_len <- as.integer(OptionData$date_len)
head(OptionData)
SeparateDate <- function(data) {
data$st_y <- as.numeric(substr(data$price_date, 1, 4))
data$st_m <- as.numeric(substr(data$price_date, 6, 7))
data$st_d <- as.numeric(substr(data$price_date, 9, 10))
data$ex_y <- as.numeric(substr(data$mat_date, 1, 4))
data$ex_m <- as.numeric(substr(data$mat_date, 6, 7))
data$ex_d <- as.numeric(substr(data$mat_date, 9, 10))
data <- data %>% select(-price_date, -mat_date)
}
OptionData <- SeparateDate(OptionData)
head(OptionData)
OptionData <- OptionData %>% select(price_date, mat_date, strike_price, bid)
library(data.table)
library(dplyr)
Sys.setenv(TZ = "US/Eastern")
setwd("C:/Users/Sizhu/Documents/03_2018Summer/Option/ProjectOption")
OptionData <- fread("spOptions_Bloomberg.csv")
head(OptionData)
# Date Format
OptionData <- OptionData %>% select(price_date, mat_date, strike_price, bid)
OptionData$price_date <- as.character(OptionData$price_date)
OptionData$mat_date <- as.character(OptionData$mat_date)
OptionData$price_date <- as.Date(OptionData$price_date, format = "%m/%d/%Y")
OptionData$mat_date <- as.Date(OptionData$mat_date, format = "%m/%d/%Y")
OptionData <- OptionData %>% arrange(price_date, strike_price)
OptionData$date_len <- OptionData$mat_date - OptionData$price_date
OptionData$date_len <- as.integer(OptionData$date_len)
write.csv(OptionData,"spOptions_Bloomberg_Date.csv", row.names = F)
# Seperate Date
SeparateDate <- function(data) {
data$st_y <- as.numeric(substr(data$price_date, 1, 4))
data$st_m <- as.numeric(substr(data$price_date, 6, 7))
data$st_d <- as.numeric(substr(data$price_date, 9, 10))
data$ex_y <- as.numeric(substr(data$mat_date, 1, 4))
data$ex_m <- as.numeric(substr(data$mat_date, 6, 7))
data$ex_d <- as.numeric(substr(data$mat_date, 9, 10))
data <- data %>% select(-price_date, -mat_date)
}
OptionData <- SeparateDate(OptionData)
write.csv(OptionData,"spOptions_Bloomberg_SeparateDate.csv", row.names = F)
head(OptionData)
OptionData <- OptionData %>% select(-date_len, -ex_y, -ex_m, -ex_d)
write.csv(OptionData,"spOptions_Bloomberg_SeparateDate.csv", row.names = F)
head(OptionData)
OptionData_02062018 <- OptionData %<% filter(st_y == 2018, st_m == 2, st_d == 6)
OptionData_02062018 <- OptionData %>% filter(st_y == 2018, st_m == 2, st_d == 6)
head(OptionData)
write.csv(OptionData,"spOptions_Bloomberg_02062018.csv", row.names = F)
OptionData_02062018 <- OptionData %>% filter(st_y == 2018, st_m == 2, st_d == 6)
head(OptionData)
View(OptionData_02062018)
write.csv(OptionData_02062018,"spOptions_Bloomberg_02062018.csv", row.names = F)
head(OptionData_02062018)
range(OptionData_02062018$strike_price)
library(data.table)
library(dplyr)
Sys.setenv(TZ = "US/Eastern")
setwd("C:/Users/Sizhu/Documents/03_2018Summer/Option/ProjectOption")
OptionData <- fread("spOptions_Bloomberg.csv")
head(OptionData)
# Date Format
OptionData <- OptionData %>% select(price_date, mat_date, strike_price, bid)
OptionData$price_date <- as.character(OptionData$price_date)
OptionData$mat_date <- as.character(OptionData$mat_date)
OptionData$price_date <- as.Date(OptionData$price_date, format = "%m/%d/%Y")
OptionData$mat_date <- as.Date(OptionData$mat_date, format = "%m/%d/%Y")
OptionData <- OptionData %>% arrange(price_date, strike_price)
OptionData$date_len <- OptionData$mat_date - OptionData$price_date
OptionData$date_len <- as.integer(OptionData$date_len)
write.csv(OptionData,"spOptions_Bloomberg_Date.csv", row.names = F)
# Seperate Date
SeparateDate <- function(data) {
data$st_y <- as.numeric(substr(data$price_date, 1, 4))
data$st_m <- as.numeric(substr(data$price_date, 6, 7))
data$st_d <- as.numeric(substr(data$price_date, 9, 10))
data$ex_y <- as.numeric(substr(data$mat_date, 1, 4))
data$ex_m <- as.numeric(substr(data$mat_date, 6, 7))
data$ex_d <- as.numeric(substr(data$mat_date, 9, 10))
data <- data %>% select(-price_date, -mat_date)
}
OptionData <- SeparateDate(OptionData)
OptionData <- OptionData %>% select(-date_len, -ex_y, -ex_m, -ex_d)
write.csv(OptionData,"spOptions_Bloomberg_SeparateDate.csv", row.names = F)
OptionData_04172018 <- OptionData %>% filter(st_y == 2018, st_m == 4, st_d == 17)
write.csv(OptionData_04172018,"spOptions_Bloomberg_04172018.csv", row.names = F)
head(OptionData_04172018)
OptionData_01252018 <- OptionData %>% filter(st_y == 2018, st_m == 1, st_d == 25)
write.csv(OptionData_01252018,"spOptions_Bloomberg_01252018.csv", row.names = F)
head(OptionData_01252018)
